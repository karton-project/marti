<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset='utf-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0'/>
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
    <link href='style/dragula.css' rel='stylesheet' type='text/css'/>
    <link href='style/index.css' rel='stylesheet' type='text/css'/>
    <link href="https://fonts.googleapis.com/css?family=Dosis&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Biryani&display=swap" rel="stylesheet">
    <link href="libs/leaflet/leaflet.css" rel="stylesheet">
    <link href="libs/c3/c3.css" rel="stylesheet">
    <link href="libs/geocoder/Control.OSMGeocoder.css" rel="stylesheet">
    <link href="style/selectize.css" rel="stylesheet">
    <link rel="stylesheet" href="//code.jquery.com/ui/1.13.1/themes/base/jquery-ui.css">

    <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
    <script src="https://code.jquery.com/ui/1.13.1/jquery-ui.js"></script>
    <script src="libs/jquery-ui-touch-punch.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/underscore@1.13.1/underscore-umd-min.js"></script>
    <script src="js/tr.js"></script>
    <script src="js/en.js"></script>
    <script src="js/state.js"></script>
    <script src="js/constants.js"></script>
    <script src="js/utils.js"></script>
    <script src="libs/selectize.js"></script>
    <script src="js/visualization/operations.js"></script>
    <script defer src="js/visualization/blocks.js"></script>
    <script defer src="js/file/operations.js"></script>
    <script defer src="js/file/blocks.js"></script>
    <script defer src="js/picture/operations.js"></script>
    <script defer src="js/picture/blocks.js"></script>
    <script defer src="js/map/operations.js"></script>
    <script defer src="js/map/blocks.js"></script>
    <script defer src="js/general/operations.js"></script>
    <script defer src="js/general/blocks.js"></script>
    <script defer src="libs/caman.min.js"></script>
    <script defer src="libs/d3/d3.min.js"></script>
    <script defer src="libs/c3/c3.js"></script>
    <script defer src="libs/d3/d3-scale.min.js"></script>
    <script defer src="libs/d3/d3-simple-slider.min.js"></script>
    <script defer src="libs/d3/d3-peaks.js"></script>
    <script defer src="https://d3js.org/d3-dsv.v1.min.js"></script>
    <script defer src="https://d3js.org/d3-fetch.v1.min.js"></script>
    <script defer src="js/ui/codeGenerator.js"></script>
    <script defer src="js/ui/helper.js"></script>
    <script defer src="js/ui/blockModalUI.js"></script>
    <script defer src='js/ui/index.js'></script>
    <script defer src="js/ui/ui.js"></script>
    <script defer src="libs/leaflet/leaflet.js"></script>
    <script defer src="libs/leaflet/shp.js"></script>
    <script defer src="libs/geocoder/Control.OSMGeocoder.js"></script>
    <script defer src="libs/geocoder/geocoder.js"></script>
    <script src="js/level.js"></script>
    <title>Code Editor</title>
</head>

<body style="margin: 0">
<script src='js/ui/dragula.js'></script>
<input type="file" id="imageFile" accept=".png, .jpg, .jpeg" style="display:none"></input>
<input type="file" id="csvFile" accept=".csv" style="display:none"></input>
<input type="file" id="jsonFile" accept=".json" style="display:none"></input>
<input type="file" id="geoJSONFile" style="display:none"></input>
<input type="file" id="stateFile" accept=".marti" style="display:none"></input>

<div id="_marti_title" class="left">Martı - Veri Programlama <a href="index.html/#en">EN</a></div>
<div class="title-grid-container">
    <div class="tooltip">
        <p id="_cat" class="title">Kategori</p>
        <span id="_tt_category" class="tooltiptext">
            Kategoriler arasında gezinmek için kutucuklara tıklayabilirsin.
        </span>
    </div>
    <div class="tooltip">
        <p id="_blocks" class="title">Bloklar</p>
        <span id="_tt_blocks" class="tooltiptext">
            Programlama kartlarını kodlama alanı üzerine sürükleyerek programlamaya başlayabilirsin.
        </span>
    </div>
    <div class="tooltip">
        <p id="_coding" class="title">Kodlama</p>
        <span id="_tt_coding" class="tooltiptext">
            Programlama kartlarına gerekli girdileri vererek programlama görevlerini tamamlayabilirsin.
         </span>
    </div>
    <div class="tooltip">
        <p id="_output" class="title">Çıktı</p>
        <span id="_tt_output" class="tooltiptext">
            Program sonucundaki çıktıyı burada görüntüleyebilirsin.
        </span>
    </div>

</div>
<div class="grid-container">
    <div id="dataSourceTable" class="container source_container"></div>
    <div id='left-copy-1tomany' class="container block_container"></div>
    <div id='right-copy-1tomany' class="container code_container"></div>
    <div id="outputText" class="text-container output_container">
        <table id="outputTable">
        </table>
    </div>
    <div id="visualContainer" class="out-container visualization_container">
        <ul id="tab_list" class="tabs"></ul>
    </div>
</div>
<div id="snackbar"></div>
<a id="_activity_link" href="activity/tr.html" target="_blank" class="float top-right link-detail">
    <p style="font-size: 2em">🃏</p>
    <p id="_card_activity_def" class="link-detail">Kart Aktivitesi</p>
</a>
<a id="_dataset_link" href="dataset/tr.html" target="_blank" class="float top-right-center link-detail">
    <p style="font-size: 2em">🗄️</p>
    <p id="_data_sets" class="link-detail">Veri Setleri</p>
</a>
<a id="_tutorial_link" href="tutorials/tr/index.html" target="_blank" class="float top-right-left link-detail">
    <p style="font-size: 2em">📄</p>
    <p id="_tuts" class="link-detail">Kılavuz ve Aktiviteler</p>
</a>

<div id="womenParticipation" hidden></div>

<button id="_download_state_button" onclick="downloadStateFile()">Programı İndir</button>
<button id="_load_state_button" onclick="loadSateFile()">Program Yükle</button>

<script>
    if (!String.prototype.format) {
        String.prototype.format = function () {
            var args = arguments;
            return this.replace(/{(\d+)}/g, function (match, number) {
                return typeof args[number] !== 'undefined' ? args[number] : match;
            });
        };
    }

    window.onload = function () {
        setTimeout(function () {
            createSourceTable();
            fillHTML();
            prepareTabList();
            startOutputTabs();

        }, 0);
    };

    let queries = window.location.href.split("#");
    if (queries !== undefined) {
        if (queries[1] === "en") {
            updateLang();
        }
        if (queries.includes("eu")) {
            openWomenParticipationDialog(_women_participation_1_title, _women_participation_1_text);
        }
    }
</script>
</body>