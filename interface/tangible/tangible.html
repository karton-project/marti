<!doctype html>

<head>
    <meta charset='utf-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0'/>
    <link href='../style/dragula.css' rel='stylesheet' type='text/css'/>
    <link href='../style/index.css' rel='stylesheet' type='text/css'/>
    <link href="https://fonts.googleapis.com/css?family=Josefin+Sans" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Dosis&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Biryani&display=swap" rel="stylesheet">
    <link href="../../libraries/leaflet/leaflet.css" rel="stylesheet">
    <link href="../../libraries/c3/c3.css" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css"
          integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">
    <link href="../../libraries/geocoder/Control.OSMGeocoder.css" rel="stylesheet">
    <link href="../style/selectize.css" rel="stylesheet">

    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="../../libraries/jquery-ui-touch-punch.min.js"></script>
    <script src="../../libraries/blockly/blockly_compressed.js"></script>
    <script src="../../libraries/blockly/blocks_compressed.js"></script>
    <script src="../../libraries/blockly/javascript_compressed.js"></script>
    <script src="../../libraries/blockly/msg/js/en.js"></script>
    <script src="../blockly/music_maker.js"></script>
    <script src="../blockly/generator.js"></script>
    <script src="../../libraries/underscore.min.js"></script>
    <script src="../js/constants.js"></script>
    <script src="../js/utils.js"></script>
    <script src="../js/tr.js"></script>
    <script src="../../libraries/selectize.js"></script>
    <script defer src="../../libraries/tracking/tracking-min.js"></script>
    <script defer src="../test/basics.js"></script>
    <script defer src="../js/camera/operations.js"></script>
    <script defer src="../js/camera/blocks.js"></script>
    <script defer src="../js/visualization/operations.js"></script>
    <script defer src="../js/visualization/blocks.js"></script>
    <script defer src="../js/file/operations.js"></script>
    <script defer src="../js/file/blocks.js"></script>
    <script defer src="../js/picture/operations.js"></script>
    <script defer src="../js/picture/blocks.js"></script>
    <script defer src="../js/map/operations.js"></script>
    <script defer src="../js/map/blocks.js"></script>
    <script defer src="../js/general/operations.js"></script>
    <script defer src="../js/general/blocks.js"></script>
    <script defer src="../../libraries/caman.min.js"></script>
    <script defer src="../../libraries/d3/d3.min.js"></script>
    <script defer src="../../libraries/c3/c3.js"></script>
    <script defer src="../../libraries/d3/d3-scale.min.js"></script>
    <script defer src="../../libraries/d3/d3-simple-slider.min.js"></script>
    <script defer src="../../libraries/underscore.min.js"></script>
    <script defer src="../../libraries/d3/d3-peaks.js"></script>
    <script defer src="https://d3js.org/d3-dsv.v1.min.js"></script>
    <script defer src="https://d3js.org/d3-fetch.v1.min.js"></script>
    <script defer src="../../libraries/Pizzicato.min.js"></script>
    <script defer src="../../libraries/wavesurfer.min.js"></script>
    <script defer src="../js/codeGenerator.js"></script>
    <script defer src="../js/blockModalUI.js"></script>
    <script defer src='../js/dragula.js'></script>
    <script defer src='../js/index.js'></script>
    <script defer src="../js/ui.js"></script>
    <script defer src="../../libraries/leaflet/leaflet.js"></script>
    <script defer src="../../libraries/leaflet/tile.stamen.js"></script>
    <script defer src="https://unpkg.com/@tensorflow/tfjs"></script>
    <script defer src="https://unpkg.com/@tensorflow-models/mobilenet"></script>
    <script defer src="https://unpkg.com/@tensorflow-models/knn-classifier"></script>
    <script defer src="../../libraries/geocoder/Control.OSMGeocoder.js"></script>
    <script defer src="../../libraries/geocoder/geocoder.js"></script>
    <script defer src="../tangible/classifier.js"></script>
    <script defer src="classifier.js"></script>
    <title>Code Editor</title>
</head>

<body>
<p id="saveblock_title"><strong>Save Paper Blocks</strong></p>
<p id="createprogram_title" style="display: none"><strong>Create Program w/Paper Blocks</strong></p>
<input type="file" id="imageFile" accept=".png, .jpg, .jpeg" style="display:none"></input>
<input type="file" id="csvFile" accept=".csv" style="display:none"></input>
<input type="file" id="jsonFile" accept=".json" style="display:none"></input>
<input type="file" id="geoJSONFile" accept=".geo.json" style="display:none"></input>
<div class="saveblock_container">
    <div id="train_container" class="saveblock_train_container">
        <div id="dataSourceTable" class="container saveblock_source_container"></div>
        <div id='left-copy-1tomany' class="container saveblock_block_container"></div>
    </div>
    <div id='right-copy-1tomany' class="container saveblock_code_container" style="display: none;"></div>
    <div id="train_coding_cards" class="tangible_recognizers_container">
        <video autoplay playsinline muted id="cardClassifierCam" width="224" height="224"></video>
        <div id="trained_card_info"></div>
    </div>

    <button id="learn" class="saveblock_button">Learn</button>
    <button id="label" class="saveblock_button" style="display:none">Add</button>
</div>

<p id="output_title" style="display: none"><strong>Program Output</strong></p>
<div id="output_container" class="saveblock_output_wrapper" style="display:none">
    <div id="visualContainer" class="container saveblock_visualization_container">
        <ul id="tab_list" class="tabs"></ul>
    </div>
    <div id="outputText" class="container saveblock_output_container">
        <table id="outputTable"></table>
    </div>
</div>
<div id="snackbar"></div>
<a href="#" class="float" onclick="showTangibleCoding()">
    <i class="fas fa-code my-float"></i>
</a>

<script>
    window.onload = function () {
        setTimeout(function () {
            isTangibleInterface = true;
            createSourceTable();
            startClassifier();
            fillHTML();
            prepareTabList();
        }, 0);
    };

    /*
    <a href="#" class="float" onclick="showOutput()">
    <i class="far fa-play-circle"></i>
    </a>
     */
    function showTangibleCoding() {
        if (!isCodingScreen) {
            document.getElementById("saveblock_title").style.display = "none";
            document.getElementById("train_container").style.display = "none";
            document.getElementById("learn").style.display = "none";
            document.getElementById("trained_card_info").style.display = "none";
            document.getElementById("createprogram_title").style.display = "";
            document.getElementById("output_title").style.display = "";
            document.getElementById("right-copy-1tomany").style.display = "";
            document.getElementById("label").style.display = "";
            document.getElementById("output_container").style.display = "";
        } else {
            document.getElementById("saveblock_title").style.display = "";
            document.getElementById("train_container").style.display = "";
            document.getElementById("learn").style.display = "";
            document.getElementById("trained_card_info").style.display = "";
            document.getElementById("createprogram_title").style.display = "none";
            document.getElementById("output_title").style.display = "none";
            document.getElementById("right-copy-1tomany").style.display = "none";
            document.getElementById("label").style.display = "none";
            document.getElementById("output_container").style.display = "none";

        }
        isCodingScreen = !isCodingScreen;
    }

</script>
</body>